(function(t){function e(e){for(var r,i,l=e[0],s=e[1],c=e[2],h=0,u=[];h<l.length;h++)i=l[h],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&u.push(o[i][0]),o[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(u.length)u.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,l=1;l<a.length;l++){var s=a[l];0!==o[s]&&(r=!1)}r&&(n.splice(e--,1),t=i(i.s=a[0]))}return t}var r={},o={app:0},n=[];function i(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=r,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(a,r,function(e){return t[e]}.bind(null,r));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;n.push(["e35a","chunk-vendors"]),a()})({"046a":function(t,e,a){t.exports=a.p+"img/regular-node.1d474c89.svg"},"0719":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,"",""]),t.exports=e},"299a":function(t,e,a){t.exports=a.p+"img/condition-node.b0266327.svg"},"62df":function(t,e,a){var r=a("9ebb");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("499e").default;o("273ecede",r,!0,{sourceMap:!1,shadowMode:!1})},"8af2":function(t,e,a){var r=a("eb39");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("499e").default;o("3813ba4c",r,!0,{sourceMap:!1,shadowMode:!1})},"9a96":function(t,e,a){var r=a("0719");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var o=a("499e").default;o("6dbd39b9",r,!0,{sourceMap:!1,shadowMode:!1})},"9ebb":function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,".itempannel{box-sizing:border-box;background-color:#fbfbfb;border-right:1px solid #dadce0;padding-top:10px;overflow:hidden;height:100%;display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-around;align-content:flex-start}.itempannel .getItem{cursor:move;width:80px;margin-bottom:20px;display:flex;justify-content:center;align-items:center}.itempannel .getItem img{width:100%}",""]),t.exports=e},a7e2:function(t,e,a){"use strict";a("9a96")},acdb:function(t,e,a){t.exports=a.p+"img/start-node.6750a8b0.svg"},b3cc:function(t,e,a){t.exports=a.p+"img/end-node.81428fb3.svg"},bf5e:function(t,e,a){"use strict";a("8af2")},e07d:function(t,e,a){"use strict";a("62df")},e35a:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("G6Flow",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"box"}},[a("ul",{staticClass:"toolbar",attrs:{id:"toolbar"}},[a("li",{attrs:{title:"保存"},on:{click:t.save}},[a("svg",{staticClass:"icon",attrs:{t:"1622170234623",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2380",width:"20",height:"24"}},[a("path",{attrs:{d:"M812.64864834 962H211.4459457C129.06756758 962 62 894.32432422 62 811.05405401V212.95945918C62 129.79729708 129.01351309 62 211.40540528 62h601.24324306C895.08108096 62 962.05405449 129.74324346 962.05405449 212.95945918V811.05405401c-0.0540545 83.27027021-67.02702714 150.94594599-149.40540615 150.94594599zM211.4459457 120.91891924c-50.21621631 0-91.13513555 41.28378398-91.13513466 92.09459443V811.05405401c0 50.75675683 40.91891924 92.09459443 91.13513466 92.09459443h601.20270264c50.28378398 0 91.20270234-41.40540527 91.20270322-92.09459443V212.95945918c0-50.75675683-40.91891924-92.04054082-91.20270322-92.04053994z m588.72973008 392.51351337H223.93243232V62h576.29729708v451.43243261z m-517.90540518-58.91891923h459.70270226V120.91891924H282.2702706z m315.58108096-246.95945947h58.20270294v196.32432481h-58.20270294z",fill:"","p-id":"2381"}})])]),a("li",{attrs:{title:"上传数据"},on:{click:t.readUploadData}},[a("svg",{staticClass:"icon",attrs:{t:"1622170635577",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3244",width:"20",height:"24"}},[a("path",{attrs:{d:"M516.281414 464.804704l157.339548 157.340764-31.693413 31.692197-125.646135-125.646134-125.64735 125.646134-31.693414-31.692197z","p-id":"3245"}}),a("path",{attrs:{d:"M493.870886 512.858716h44.821057v228.238311h-44.821057z","p-id":"3246"}}),a("path",{attrs:{d:"M615.000858 816.6348h-0.008515c-42.072195 0-76.299184-34.228206-76.299184-76.3004l0.002433-0.109468H493.873318l-0.001216 0.109468c0 66.893452 54.228006 121.121458 121.121458 121.121458h0.008514v-44.821058z","p-id":"3247"}}),a("path",{attrs:{d:"M802.858863 498.506247a292.347627 292.347627 0 0 0 3.606362-45.781943c0-160.264776-129.920251-290.18381-290.183811-290.183811-156.325145 0-283.755607 123.617328-289.927168 278.428166-98.420231 18.360213-172.926572 104.690313-172.926573 208.435553 0 117.112497 94.937933 212.051646 212.051646 212.051646l0.254209-0.002433v0.002433h105.390909v-44.821058H265.756638v-0.003649c-0.09244 0-0.184879 0.003649-0.278535 0.003649-44.669019 0-86.664586-17.394462-118.249748-48.98084-31.585162-31.585162-48.980841-73.580729-48.98084-118.249748s17.394462-86.664586 48.98084-118.249748c22.566216-22.566216 50.447712-37.88322 80.820212-44.794298a168.56853 168.56853 0 0 1 37.429536-4.186542c2.410728 0 4.811726 0.060816 7.205426 0.161769a249.539565 249.539565 0 0 1-1.764867-29.609873c0-5.121885 0.173932-10.217012 0.484091-15.286596 3.651365-59.787763 28.659934-115.491154 71.381639-158.211643 46.342662-46.342662 107.959757-71.865731 173.498239-71.86573 65.539698 0 127.155576 25.521852 173.498238 71.86573 46.342662 46.342662 71.865731 107.959757 71.865731 173.498239 0 16.313162-1.583637 32.383062-4.674283 48.035767a242.722142 242.722142 0 0 1-15.871641 50.55718c15.072525-5.59503 31.176481-8.522691 47.734122-8.522691 1.11779 0 2.233147 0.014596 3.346071 0.041355 35.320453 0.841687 68.400461 14.992248 93.471062 40.062849 25.861203 25.861203 40.102987 60.24388 40.102987 96.817133 0 36.573253-14.241785 70.95593-40.102987 96.817133-25.861203 25.861203-60.245096 40.102987-96.817133 40.102987l-0.063248-0.001216v0.001216H611.975892v44.821057h180.802186v-0.049868c98.550376-2.099353 177.796681-82.63738 177.796681-181.691309 0-95.656772-73.89697-174.050444-167.715896-181.210866z","p-id":"3248"}})])]),a("li",{attrs:{title:"另存为文件"},on:{click:t.out}},[a("svg",{staticClass:"icon",attrs:{t:"1622170677734",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4100",width:"20",height:"24"}},[a("path",{attrs:{d:"M512 371.2c-15.36 0-25.6 10.24-25.6 25.6v414.72L353.28 691.2c-10.24-10.24-25.6-7.68-35.84 2.56-10.24 10.24-7.68 25.6 2.56 35.84l176.64 161.28c5.12 5.12 10.24 7.68 17.92 7.68 2.56 0 7.68 0 10.24-2.56 10.24-5.12 15.36-12.8 15.36-23.04V396.8c-2.56-12.8-12.8-25.6-28.16-25.6zM670.72 691.2l-110.08 99.84c-10.24 10.24-10.24 25.6-2.56 35.84 5.12 5.12 12.8 7.68 17.92 7.68 5.12 0 12.8-2.56 17.92-7.68l110.08-99.84c10.24-10.24 10.24-25.6 2.56-35.84-7.68-10.24-25.6-10.24-35.84 0z","p-id":"4101"}}),a("path",{attrs:{d:"M773.12 368.64c-2.56-140.8-120.32-256-261.12-256S253.44 227.84 250.88 368.64C110.08 378.88 0 496.64 0 640c0 148.48 120.32 271.36 271.36 271.36 15.36 0 25.6-10.24 25.6-25.6s-10.24-25.6-25.6-25.6C148.48 860.16 51.2 760.32 51.2 640c0-120.32 97.28-220.16 220.16-220.16h2.56c7.68 0 15.36-2.56 20.48-7.68 5.12-5.12 7.68-12.8 7.68-20.48v-17.92c0-115.2 94.72-209.92 209.92-209.92s209.92 94.72 209.92 209.92v17.92c0 7.68 2.56 15.36 7.68 20.48 5.12 5.12 12.8 7.68 20.48 7.68h5.12c120.32 0 220.16 99.84 220.16 220.16s-99.84 220.16-220.16 220.16c-15.36 0-25.6 10.24-25.6 25.6s10.24 25.6 25.6 25.6C903.68 911.36 1024 788.48 1024 640c0-143.36-110.08-261.12-250.88-271.36z","p-id":"4102"}})])]),a("li",{attrs:{title:"另存为图片"},on:{click:t.downloadImage}},[a("svg",{staticClass:"icon",attrs:{t:"1622170887312",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11235",width:"20",height:"24"}},[a("path",{attrs:{d:"M400.698 524.63c18.091-10.411 29.253-29.663 29.253-50.484s-11.162-40.038-29.253-50.483a58.641 58.641 0 0 0-58.47 0 58.197 58.197 0 0 0 0 100.966 58.641 58.641 0 0 0 58.47 0zM266.725 855.824V369.766h662.357v195.79a253.713 253.713 0 0 1 71.953 46.591V333.892c0-19.797-16.145-35.874-35.976-35.874H848.39L759.85 55.603a36.01 36.01 0 0 0-46.114-21.436L23.73 284.467C5.059 291.226-4.6 311.808 2.226 330.411l191.42 524.151c0.307 0.888 0.716 1.775 1.092 2.663v34.406c0 19.831 16.11 35.874 35.976 35.874H611.54a251.187 251.187 0 0 1-29.218-71.714H266.725v0.034z m-71.987-521.933V647.92L82.166 339.627l622.421-225.758 67.243 184.183H230.714c-19.865 0-35.976 16.043-35.976 35.84zM829.072 603.41c-107.691 0-195.004 87.006-195.004 194.321s87.313 194.253 195.004 194.253 194.97-86.938 194.97-194.253c0-107.315-87.28-194.32-194.97-194.32z m-10.923 308.463l-95.846-95.095h0.068a13.653 13.653 0 0 1-3.925-9.592c0-7.51 6.007-13.55 13.516-13.55h39.015v-98.441a13.62 13.62 0 0 1 13.175-16.999h89.157c7.509 0 13.55 6.11 13.55 13.654V793.6h39.254a13.585 13.585 0 0 1 8.874 23.79l-95.744 94.994a13.483 13.483 0 0 1-21.094-0.512z m-10.07-365.91l-43.007-42.87-189.918 188.722-118.272-71.372-144.52 117.828v71.407h263.44a342.87 342.87 0 0 1-0.273-11.947c0.034-132.471 102.332-241.118 232.55-251.767z m0 0","p-id":"11236",fill:"#333333"}})])]),a("li",{class:"canvas"===t.selectType?"disabled":"",attrs:{title:"删除"},on:{click:t.deleteNode}},[a("svg",{staticClass:"icon",attrs:{t:"1622170848261",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8337",width:"24",height:"24"}},[a("path",{attrs:{d:"M733.85516357 791.94537354c0 26.57318115-21.62933349 48.20251465-48.20251464 48.20251464H338.34735107c-26.57318115 0-48.20251465-21.62933349-48.20251464-48.20251464V280.25714112h443.71032714v511.68823242zM386.54986573 193.73980713c0-5.56182862 4.3258667-9.88769531 9.88769531-9.88769531h231.74285888c5.56182862 0 9.88769531 4.3258667 9.88769531 9.88769531v29.04510498H386.54986573V193.73980713z m491.91284179 29.04510498H695.54034424V193.73980713c0-37.07885742-30.2810669-67.35992432-67.35992432-67.35992432h-231.74285888c-37.07885742 0-67.35992432 30.2810669-67.35992432 67.35992432v29.04510498H145.53729248C129.4697876 222.78491211 116.4921875 235.76251221 116.4921875 251.83001709s12.9776001 29.04510498 29.04510498 29.04510498h86.51733398v511.07025147c0 58.70819092 47.58453369 106.29272461 106.29272461 106.29272461h347.30529786c58.70819092 0 106.29272461-47.58453369 106.29272461-106.29272461V280.25714112h86.51733398c16.06750489 0 29.04510498-12.9776001 29.04510498-29.04510499s-12.9776001-28.42712403-29.04510498-28.42712402zM512 753.01257325c16.06750489 0 29.04510498-12.9776001 29.04510498-29.04510499v-308.99047852c0-16.06750489-12.9776001-29.04510498-29.04510498-29.04510497s-29.04510498 12.9776001-29.04510498 29.04510497v308.99047852c0 16.06750489 12.9776001 29.04510498 29.04510498 29.04510498m-135.33782959 0c16.06750489 0 29.04510498-12.9776001 29.04510498-29.04510498v-308.99047852c0-16.06750489-12.9776001-29.04510498-29.04510498-29.04510497s-29.04510498 12.9776001-29.04510498 29.04510497v308.99047852c0.61798096 16.06750489 13.59558106 29.04510498 29.04510498 29.04510498m270.67565918 0c16.06750489 0 29.04510498-12.9776001 29.04510499-29.04510498v-308.99047852c0-16.06750489-12.9776001-29.04510498-29.04510499-29.04510497s-29.04510498 12.9776001-29.04510498 29.04510497v308.99047852c0 16.06750489 12.9776001 29.04510498 29.04510498 29.04510498",fill:"","p-id":"8338"}})])]),a("li",{attrs:{title:"清除画布"},on:{click:t.clear}},[a("svg",{staticClass:"icon",attrs:{t:"1622170936815",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11496",width:"24",height:"24"}},[a("path",{attrs:{d:"M786.304 502.848H237.696a109.696 109.696 0 0 1 0-219.392h164.608V173.696a109.696 109.696 0 1 1 219.392 0V283.52h164.608a109.696 109.696 0 0 1 0 219.392zM237.696 338.304a54.848 54.848 0 1 0 0 109.696h548.608a54.848 54.848 0 0 0 0-109.696H566.848V173.696a54.848 54.848 0 0 0-109.696 0v164.608H237.696z","p-id":"11497",fill:"#333333"}}),a("path",{attrs:{d:"M786.304 941.696H237.696a54.848 54.848 0 0 1-54.848-54.848V448h658.304v438.848a54.848 54.848 0 0 1-54.848 54.848zM237.696 502.848v384h548.608v-384H237.696z","p-id":"11498",fill:"#333333"}}),a("path",{attrs:{d:"M594.304 667.456c15.104 0 27.392 12.224 27.392 27.392v219.456a27.456 27.456 0 0 1-54.848 0v-219.456c0-15.168 12.288-27.392 27.456-27.392z m-164.608 0c15.168 0 27.456 12.224 27.456 27.392v219.456a27.456 27.456 0 0 1-54.848 0v-219.456c0-15.168 12.288-27.392 27.392-27.392z","p-id":"11499",fill:"#333333"}})])]),a("li",{attrs:{title:"提升层级"},on:{click:t.toFront}},[a("svg",{staticClass:"icon",attrs:{t:"1622429346621",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7051",width:"24",height:"24"}},[a("path",{attrs:{d:"M852.032 64c24.32 0 43.968 21.12 43.968 47.36 0 23.872-16.576 43.712-38.016 46.848l-6.016 0.384H562.24l198.144 220.032c15.424 16.64 16.96 42.56 4.608 61.056l-4.608 5.824a41.728 41.728 0 0 1-57.28 4.608l-4.992-4.608-140.8-158.976v355.264l290.752 0.064c24.32 0 44.352 17.792 47.552 40.896l0.448 6.4a47.552 47.552 0 0 1-41.472 46.912l-6.528 0.384H557.248v176.256c0 23.936-16.512 43.712-37.952 46.848L513.28 960c-22.272 0-40.64-17.792-43.584-40.896l-0.384-6.4-0.064-176.256H176a47.808 47.808 0 0 1-47.552-40.832l-0.448-6.4c0-24 18.048-43.776 41.472-46.912l6.528-0.448 293.248-0.064V286.528L320.384 445.44a41.856 41.856 0 0 1-62.272 0 49.984 49.984 0 0 1-4.608-61.056l4.608-5.824 205.632-220.032H171.968c-22.272 0-40.64-17.792-43.52-40.832L128 111.36c0-24 16.576-43.776 38.016-46.912L172.032 64h679.936z","p-id":"7052",fill:"#333333"}})])]),a("li",{attrs:{title:"下降层级"},on:{click:t.toBack}},[a("svg",{staticClass:"icon",attrs:{t:"1622429546069",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7266",width:"24",height:"24"}},[a("path",{attrs:{d:"M852.032 960c24.32 0 43.968-21.12 43.968-47.36 0-23.872-16.576-43.712-38.016-46.848l-6.016-0.384H562.24l198.144-220.032a49.984 49.984 0 0 0 4.608-61.056l-4.608-5.824a41.728 41.728 0 0 0-57.28-4.608l-4.992 4.608-140.8 158.976V382.208l290.752-0.064c24.32 0 44.352-17.792 47.552-40.896l0.448-6.4a47.552 47.552 0 0 0-41.472-46.912l-6.528-0.384H557.248V111.296c0-23.936-16.512-43.712-37.952-46.848L513.28 64c-22.272 0-40.64 17.792-43.584 40.896l-0.384 6.4-0.064 176.256H176a47.808 47.808 0 0 0-47.552 40.832l-0.448 6.4c0 24 18.048 43.776 41.472 46.912l6.528 0.448 293.248 0.064v355.264L320.384 578.56a41.856 41.856 0 0 0-62.272 0 49.984 49.984 0 0 0-4.608 61.056l4.608 5.824 205.632 220.032H171.968c-22.272 0-40.64 17.792-43.52 40.832l-0.448 6.4c0 24 16.576 43.776 38.016 46.912l6.016 0.448h679.936z","p-id":"7267",fill:"#333333"}})])]),a("li",{attrs:{title:"多选"},on:{click:t.toggleMode}},[a("svg",{staticClass:"icon",attrs:{t:"1622171250584",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"20209",width:"20",height:"24"}},[a("path",{attrs:{d:"M521.6768 524.9536L1024 751.7696l-180.3264 90.7776L753.5616 1024l-231.936-499.0464z m379.9552-460.1344v129.6384h-64.4096V64.8192h-128.768V0h193.1776v64.8192zM64.4096 842.5472h128.8192v64.768H0v-194.4064h64.4096v129.6384z m0-777.728v129.6384H0V0h193.1776v64.8192H64.4096zM321.9968 0h257.6384v64.8192H321.9968V0z m0 842.5472h257.6384v64.768H321.9968v-64.768zM0 324.0448h64.4096v259.2256H0V324.096z m837.2224 0h64.4096v259.2256h-64.4096V324.096z","p-id":"20210"}})])]),a("li",{class:"default"===t.model?"disabled":"",attrs:{title:"组合"},on:{click:t.addGroup}},[a("svg",{staticClass:"icon",attrs:{t:"1622171282281",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"21081",width:"24",height:"24"}},[a("path",{attrs:{d:"M880.904 97.272H172.328a59.056 59.056 0 0 0-59.048 59.048v708.584a59.064 59.064 0 0 0 59.048 59.064h708.584a59.072 59.072 0 0 0 59.064-59.064V156.328a59.072 59.072 0 0 0-59.072-59.056z m0 738.112c0 16.312-13.2 29.52-29.52 29.52H202.768a29.512 29.512 0 0 1-29.52-29.52V186.768a29.52 29.52 0 0 1 29.52-29.52h648.616a29.512 29.512 0 0 1 29.52 29.52v648.616z m-118.08-422.656H624.88V275.336a59.056 59.056 0 0 0-59.048-59.04H292.016a59.04 59.04 0 0 0-59.048 59.04v275.056a59.048 59.048 0 0 0 59.048 59.04h137.936v137.392a59.064 59.064 0 0 0 59.04 59.048h273.824a59.064 59.064 0 0 0 59.048-59.048V471.768a59.048 59.048 0 0 0-59.04-59.04zM322.256 549.776a29.536 29.536 0 0 1-29.52-29.536V306.064a29.528 29.528 0 0 1 29.52-29.536H535.6a29.52 29.52 0 0 1 29.512 29.536v106.664h-76.12a59.048 59.048 0 0 0-59.048 59.04v78H322.256v0.008zM565.12 472.96v47.272a29.52 29.52 0 0 1-29.512 29.536h-45.888V502.48a29.536 29.536 0 0 1 29.528-29.528h45.872z m196.976 243.696a29.52 29.52 0 0 1-29.52 29.536H519.24a29.528 29.528 0 0 1-29.528-29.536V609.432h76.128a59.048 59.048 0 0 0 59.048-59.04V472.96h107.688a29.52 29.52 0 0 1 29.52 29.528v214.168z","p-id":"21082"}})])]),a("li",{class:"combo"!==t.selectType?"disabled":"",attrs:{title:"取消组合"},on:{click:t.unGroup}},[a("svg",{staticClass:"icon",attrs:{t:"1622171318289",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"21930",width:"24",height:"24"}},[a("path",{attrs:{d:"M918.1 355.2h-248v-248c0-23.2-18.8-42-42-42H107c-23.2 0-42 18.8-42 42v521.1c0 23.2 18.8 42 42 42h248v248c0 23.2 18.8 42 42 42h521.1c23.2 0 42-18.8 42-42V397.2c0-23.1-18.8-42-42-42zM125 610.3V125.2h485.1v230H397c-23.2 0-42 18.8-42 42v213.1H125z m485.1-195.1v195.1H415V415.2h195.1z m290 485.1H415v-230h213.1c23.2 0 42-18.8 42-42V415.2h230v485.1z",fill:"#333333","p-id":"21931"}})])])]),a("div",{attrs:{id:"view"}},[a("div",{attrs:{id:"leftTool"}},[t.graph?a("leftTool",{attrs:{gra:t.graph}}):t._e()],1),a("div",{attrs:{id:"container"}}),a("div",{attrs:{id:"right-part"}},[a("div",{attrs:{id:"detailpannel"}},["canvas"===t.selectType?a("div",{staticClass:"pannel",attrs:{id:"canvasAttributeBar"}},[a("div",{staticClass:"title"},[t._v("画布属性栏")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{"label-width":"80px","label-position":"right"}},[a("el-form-item",{attrs:{label:"网格对齐"}},[a("el-checkbox",{on:{change:t.toggleGridShowStatus},model:{value:t.canvasAttributeForm.grid,callback:function(e){t.$set(t.canvasAttributeForm,"grid",e)},expression:"canvasAttributeForm.grid"}})],1)],1)],1)]):t._e(),"node"===t.selectType?a("div",{staticClass:"pannel",attrs:{id:"nodeAttributeBar"}},[a("div",{staticClass:"title"},[t._v("节点属性")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{model:t.nodeAttributeForm,"label-position":"top","label-width":"80px"}},[a("el-form-item",{attrs:{label:"节点文本"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.label,callback:function(e){t.$set(t.nodeAttributeForm,"label",e)},expression:"nodeAttributeForm.label"}})],1),a("el-form-item",{attrs:{label:"条件"}},[a("el-input",{attrs:{type:"textarea",autosize:""},on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.sql,callback:function(e){t.$set(t.nodeAttributeForm,"sql",e)},expression:"nodeAttributeForm.sql"}})],1),"regularNode"===t.nodeAttributeForm.nodetype?a("el-form-item",{attrs:{label:"宽度"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.width,callback:function(e){t.$set(t.nodeAttributeForm,"width",e)},expression:"nodeAttributeForm.width"}})],1):t._e(),"regularNode"===t.nodeAttributeForm.nodetype?a("el-form-item",{attrs:{label:"高度"}},[a("el-input",{on:{change:t.saveNodeAttribute},model:{value:t.nodeAttributeForm.height,callback:function(e){t.$set(t.nodeAttributeForm,"height",e)},expression:"nodeAttributeForm.height"}})],1):t._e()],1)],1)]):t._e(),"edge"===t.selectType?a("div",{staticClass:"pannel",attrs:{id:"edgeAttributeBar"}},[a("div",{staticClass:"title"},[t._v("边属性")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{model:t.edgeAttributeForm,"label-position":"top","label-width":"80px"}},[a("el-form-item",{attrs:{label:"边文本"}},[a("el-input",{on:{change:t.saveEdgeAttribute},model:{value:t.edgeAttributeForm.label,callback:function(e){t.$set(t.edgeAttributeForm,"label",e)},expression:"edgeAttributeForm.label"}})],1),a("el-form-item",{attrs:{label:"表达式"}},[a("el-input",{attrs:{type:"textarea",autosize:""},on:{change:t.saveEdgeAttribute},model:{value:t.edgeAttributeForm.reg,callback:function(e){t.$set(t.edgeAttributeForm,"reg",e)},expression:"edgeAttributeForm.reg"}})],1),a("el-form-item",{attrs:{label:"匹配结果"}},[a("el-input",{on:{change:t.saveEdgeAttribute},model:{value:t.edgeAttributeForm.val,callback:function(e){t.$set(t.edgeAttributeForm,"val",e)},expression:"edgeAttributeForm.val"}})],1)],1)],1)]):t._e(),"combo"===t.selectType?a("div",{staticClass:"pannel",attrs:{id:"groupAttributeBar"}},[a("div",{staticClass:"title"},[t._v("群组属性栏")]),a("div",{staticClass:"main"},[a("el-form",{attrs:{model:t.groupAttributeForm,"label-position":"top","label-width":"80px"}},[a("el-form-item",{attrs:{label:"组名"}},[a("el-input",{on:{change:t.saveGroupAttribute},model:{value:t.groupAttributeForm.label,callback:function(e){t.$set(t.groupAttributeForm,"label",e)},expression:"groupAttributeForm.label"}})],1)],1)],1)]):t._e()]),t._m(0)])])])},l=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"minimap"}},[a("div",{staticClass:"title"},[t._v("缩略图")])])}],s=a("5530"),c=(a("7db0"),a("d81d"),a("7c3e")),d=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"itempannel"},[a("div",{staticClass:"getItem",attrs:{draggable:""},on:{dragend:function(e){return t.handleDragEnd(e,"startNode")}}},[a("img",{attrs:{src:t.startNodeSVGUrl}})]),a("div",{staticClass:"getItem",attrs:{draggable:""},on:{dragend:function(e){return t.handleDragEnd(e,"regularNode")}}},[a("img",{attrs:{src:t.regularNodeSVGUrl}})]),a("div",{staticClass:"getItem",attrs:{draggable:""},on:{dragend:function(e){return t.handleDragEnd(e,"judgeNode")}}},[a("img",{attrs:{src:t.conditionNodeSVGUrl}})]),a("div",{staticClass:"getItem",attrs:{draggable:""},on:{dragend:function(e){return t.handleDragEnd(e,"endNode")}}},[a("img",{attrs:{src:t.endNodeSVGUrl}})])])},h=[],u=0;function g(t,e,a){var r="",o=e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];u+=1,u>1e4&&(u=1),t&&(o=Math.round(Math.random()*(a-e))+e);for(var i=0;i<o;i++){var l=Math.round(Math.random()*(n.length-1));r+=n[l]}return r+u}var p={data:function(){return{addNodeList:{startNode:{type:"circle",size:[72,72],label:"开始节点",label_form:"开始节点",style:{stroke:"#FFC371",fill:"#FFF3EA",cursor:"move"},nodetype:"startNode",x:0,y:0,anchorPoints:[[.5,0],[1,.5],[.5,1],[0,.5]]},regularNode:{type:"rect",size:[100,50],label:"常规节点",label_form:"常规节点",style:{fill:"#E8F8FF",stroke:"#5BB1FF",radius:5,cursor:"move"},nodetype:"regularNode",x:0,y:0,anchorPoints:[[.5,0],[1,.5],[.5,1],[0,.5]]},judgeNode:{type:"diamond",size:[72,72],label:"条件节点",label_form:"条件节点",style:{fill:"#E8FFFB",stroke:"#5CDBD3",cursor:"move"},nodetype:"judgeNode",x:0,y:0,anchorPoints:[[.5,0],[1,.5],[.5,1],[0,.5]]},endNode:{type:"circle",size:[72,72],label:"结束节点",label_form:"结束节点",style:{stroke:"#FFC371",fill:"#FFF3EA",cursor:"move"},nodetype:"endNode",x:0,y:0,anchorPoints:[[.5,0],[1,.5],[.5,1],[0,.5]]}},startNodeSVGUrl:a("acdb"),endNodeSVGUrl:a("b3cc"),regularNodeSVGUrl:a("046a"),conditionNodeSVGUrl:a("299a")}},props:{gra:Object},mounted:function(){},methods:{handleDragEnd:function(t,e){var a=JSON.parse(JSON.stringify(this.addNodeList[e]));a.id=g(!1,19);var r=this.gra.getPointByClient(t.x,t.y);a.x=r.x,a.y=r.y,this.gra.addItem("node",a),this.gra.setMode("default")}}},f=p,m=(a("e07d"),a("2877")),b=Object(m["a"])(f,d,h,!1,null,null,null),v=b.exports;a("4d63"),a("ac1f"),a("25f0"),a("159b"),a("1276"),a("99af");function w(t,e,a){var r="...",o=c["a"].Util.getTextSize(r,a)[0],n=0,i=t,l=new RegExp("[一-龥]+");return t.split("").forEach((function(s,d){n>e[0]-o||(l.test(s)?n+=a:n+=c["a"].Util.getLetterWidth(s,a),n>e[0]-o&&(i="".concat(t.substr(0,d)).concat(r)))})),i}function y(t){return new t.Menu({getContent:function(){return"<ul class='g6-contextmenu-ul'><li>删除</li></ul>"},shouldBegin:function(t){return!!t.item},handleMenuClick:function(t,e){window.graph.removeItem(e)},itemTypes:["node","edge"]})}function x(t){return new t.Grid}function A(t){return new t.SnapLine({itemAlignType:!0})}a("b0c0");function F(t){t.registerNode("rect",{afterDraw:function(t,e){var a=e.getBBox(),r=this.getAnchorPoints(t);r.forEach((function(t,r){e.addShape("circle",{attrs:{r:10,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#5F95FF",cursor:"crosshair",opacity:0},name:"connect-point"}),e.addShape("circle",{attrs:{r:3,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#fff",stroke:"#5F95FF",cursor:"crosshair"},name:"anchor-point",anchorPointIdx:r,links:0,visible:!1,draggable:!0})}))},getAnchorPoints:function(t){return t.anchorPoints||[[.5,0],[1,.5],[.5,1],[0,.5]]},setState:function(t,e,a){var r=a.getContainer(),o=r.get("children")[0];if("showAnchors"===t){var n=r.findAll((function(t){return"anchor-point"===t.get("name")}));n.forEach((function(t){e||t.get("links")>0?t.show():t.hide()}))}"selected"===t&&(e?(o.attr("fill","#96D6FB"),o.attr("stroke","#5F95FF"),o.attr("shadowColor","#BBE6FD"),o.attr("shadowBlur",10)):(o.attr("fill","#E8F8FF"),o.attr("stroke","#5BB1FF"),o.attr("shadowColor",""),o.attr("shadowBlur",0))),"connect"===t&&(e?r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",.3)})):r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",0)})))},afterUpdate:function(t,e){var a=e._cfg.group,r=a.getBBox(),o=[];a.getChildren().map((function(t){"circle"===t.cfg.type&&o.push(t)})),t.anchorPoints.map((function(t,e){o.map((function(a){e===a.cfg.anchorPointIdx&&(a.attr("x",r.x+r.width*t[0]),a.attr("y",r.y+r.height*t[1]))}))}))}},"rect"),t.registerNode("diamond",{afterDraw:function(t,e){var a=e.getBBox(),r=this.getAnchorPoints(t);r.forEach((function(t,r){e.addShape("circle",{attrs:{r:10,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#5F95FF",cursor:"crosshair",opacity:0},name:"connect-point"}),e.addShape("circle",{attrs:{r:3,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#fff",stroke:"#5F95FF",cursor:"crosshair"},name:"anchor-point",anchorPointIdx:r,links:0,visible:!1,draggable:!0})}))},getAnchorPoints:function(t){return t.anchorPoints||[[0,.5],[.33,0],[.66,0],[1,.5],[.33,1],[.66,1]]},setState:function(t,e,a){var r=a.getContainer(),o=r.get("children")[0];if("showAnchors"===t){var n=a.getContainer().findAll((function(t){return"anchor-point"===t.get("name")}));n.forEach((function(t){e||t.get("links")>0?t.show():t.hide()}))}"selected"===t&&(e?(o.attr("fill","#8DE8DE"),o.attr("stroke","#27C2C1"),o.attr("shadowColor","#B6F3EA"),o.attr("shadowBlur",10)):(o.attr("fill","#E8FFFB"),o.attr("stroke","#5CDBD3"),o.attr("shadowColor",""),o.attr("shadowBlur",0))),"connect"===t&&(e?r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",.3)})):r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",0)})))}},"diamond"),t.registerNode("circle",{afterDraw:function(t,e){var a=e.getBBox(),r=this.getAnchorPoints(t);r.forEach((function(t,r){e.addShape("circle",{attrs:{r:10,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#5F95FF",cursor:"crosshair",opacity:0},name:"connect-point"}),e.addShape("circle",{attrs:{r:3,x:a.x+a.width*t[0],y:a.y+a.height*t[1],fill:"#fff",stroke:"#5F95FF",cursor:"crosshair"},name:"anchor-point",anchorPointIdx:r,links:0,visible:!1,draggable:!0})}))},getAnchorPoints:function(t){return t.anchorPoints||[[0,.5],[.33,0],[.66,0],[1,.5],[.33,1],[.66,1]]},setState:function(t,e,a){var r=a.getContainer(),o=r.get("children")[0];if("showAnchors"===t){var n=a.getContainer().findAll((function(t){return"anchor-point"===t.get("name")}));n.forEach((function(t){e||t.get("links")>0?t.show():t.hide()}))}"selected"===t&&(e?(o.attr("fill","#FCD498"),o.attr("stroke","#F88C2C"),o.attr("shadowColor","#FDE5BB"),o.attr("shadowBlur",10)):(o.attr("fill","#FFF3EA"),o.attr("stroke","#FFC371"),o.attr("shadowColor",""),o.attr("shadowBlur",0))),"connect"===t&&(e?r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",.3)})):r.getChildren().map((function(t){"circle"===t.cfg.type&&"connect-point"===t.cfg.name&&t.attr("opacity",0)})))}},"circle")}function C(t){var e=function(t,e,a){return[["M",t-a,e],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,2*-a,0],["M",t-a+4,e],["L",t-a+2*a-4,e]]},a=function(t,e,a){return[["M",t-a,e],["a",a,a,0,1,0,2*a,0],["a",a,a,0,1,0,2*-a,0],["M",t-a+4,e],["L",t-a+2*a-4,e],["M",t-a+a,e-a+4],["L",t,e+a-4]]};t.registerCombo("cRect",{drawShape:function(t,a){var r=this;t.padding=t.padding||[50,20,20,20];var o=r.getShapeStyle(t),n=a.addShape("rect",{attrs:Object(s["a"])(Object(s["a"])({},o),{},{x:-o.width/2-(t.padding[3]-t.padding[1])/2,y:-o.height/2-(t.padding[0]-t.padding[2])/2,width:o.width,height:o.height,radius:5}),draggable:!0,name:"combo-keyShape"});return a.addShape("marker",{attrs:Object(s["a"])(Object(s["a"])({},o),{},{fill:"#fff",opacity:1,x:t.style.width/2,y:-t.style.height/2-t.padding[2],r:10,symbol:e}),draggable:!0,name:"combo-marker-shape"}),n},afterUpdate:function(t,r){var o=r.get("group"),n=o.find((function(t){return"combo-marker-shape"===t.get("name")}));n.attr({x:t.style.width/2,y:-t.style.height/2-t.padding[2],symbol:t.collapsed?a:e})},setState:function(t,e,a){var r=a.getContainer(),o=r.get("children")[0];"selected"===t&&(e?o.attr("stroke","#2593FC"):o.attr("stroke","#CED4D9"))}},"rect")}function k(t){t.registerEdge("polyline",{setState:function(t,e,a){var r=a.getContainer(),o=r.get("children")[0];"active"===t&&(e?(o.attr("stroke","rgb(95, 149, 255)"),o.attr("endArrow",Object(s["a"])(Object(s["a"])({},o.attrs.endArrow),{},{fill:"rgb(95, 149, 255)"}))):(o.attr("stroke","#d8d8d8"),o.attr("endArrow",Object(s["a"])(Object(s["a"])({},o.attrs.endArrow),{},{fill:"#d8d8d8"})))),"selected"===t&&(e?(o.attr("stroke","rgb(95, 149, 255)"),o.attr("endArrow",Object(s["a"])(Object(s["a"])({},o.attrs.endArrow),{},{fill:"rgb(95, 149, 255)"})),o.attr("shadowColor","rgb(95, 149, 255)"),o.attr("shadowBlur",10)):(o.attr("stroke","#d8d8d8"),o.attr("endArrow",Object(s["a"])(Object(s["a"])({},o.attrs.endArrow),{},{fill:"#d8d8d8"})),o.attr("shadowColor",""),o.attr("shadowBlur","")))}},"polyline")}var S={components:{leftTool:v},data:function(){return{fileList:[],uploadData:[],sourceAnchorIdx:void 0,targetAnchorIdx:void 0,aaa:"aaa",flag:"col",inpValue:"",nodeId:"",stroke:"",drawer:!1,selectType:"canvas",showNode:{id:"",lable:"",newLabel:"",sql:"",style:{fill:"",stroke:""}},showEdegs:{id:"",lable:"",sql:""},da:{},graph:null,model:"default",nodeAttributeForm:{label:"",width:"",height:"",type:"sql",sql:""},edgeAttributeForm:{label:"",reg:"",val:""},canvasAttributeForm:{grid:!0,cell:18},groupAttributeForm:{label:""}}},computed:{},mounted:function(){this.initGraph()},methods:{initGraph:function(){var t=this;F(c["a"]),C(c["a"]),k(c["a"]);var e=new c["a"].ToolBar({container:document.getElementById("toolbar")}),a=new c["a"].Minimap({container:document.getElementById("minimap")}),r=new c["a"].Graph({container:document.getElementById("container"),width:window.document.documentElement.clientWidth-150,height:window.document.documentElement.clientHeight-70,plugins:[y(c["a"]),x(c["a"]),A(c["a"]),e,a],fitCenter:!0,groupByTypes:!1,enabledStack:!0,defaultCombo:{type:"cRect",padding:[30,20,10,20],fixCollapseSize:[100,15],style:{lineWidth:1,fill:"#EFF1F2"},labelCfg:{refY:10,refX:20,position:"top"}},modes:{default:["drag-canvas","drag-combo",{type:"drag-node",shouldBegin:function(t){return"anchor-point"!==t.target.get("name")}},"drag-node-with-group","zoom-canvas",{type:"create-edge",trigger:"drag",edgeConfig:{type:"polyline",style:{endArrow:!1,stroke:"#409EFF",lineDash:[5]}},shouldBegin:function(e){return(!e.target||"anchor-point"===e.target.get("name"))&&(t.sourceAnchorIdx=e.target.get("anchorPointIdx"),e.target.set("links",e.target.get("links")+1),!0)},shouldEnd:function(e){return(!e.target||"anchor-point"===e.target.get("name"))&&(e.target?(t.targetAnchorIdx=e.target.get("anchorPointIdx"),e.target.set("links",e.target.get("links")+1),!0):(t.targetAnchorIdx=void 0,!0))}},"click-select"],brush:[{type:"brush-select",trigger:"drag"}]},defaultEdge:{type:"polyline",style:{lineWidth:1.5,lineAppendWidth:3,stroke:"#d8d8d8",radius:10,offset:20,endArrow:{path:c["a"].Arrow.triangle(5,7,5),d:5,fill:"#d8d8d8"}}}});this.graph=r,window.graph=r,r.on("click",(function(){t.selfClearItemStates(r),t.selectType="canvas",r.setMode("default"),t.model="default"})),r.on("node:click",(function(e){t.selectType="node";var a=e.item.get("model");t.nodeAttributeForm.nodetype=a.nodetype,t.nodeAttributeForm.label=a.label_form,t.nodeAttributeForm.sql=a.sql,t.nodeAttributeForm.width=a.size[0],t.nodeAttributeForm.height=a.size[1]})),r.on("combo:click",(function(e){if("combo-keyShape"===e.target.get("name")){t.selectType="combo";var a=e.item.get("model");t.groupAttributeForm.label=a.label}"combo-marker-shape"===e.target.get("name")&&(r.collapseExpandCombo(e.item),r.get("layout")?r.layout():r.refreshPositions())})),r.on("edge:mouseenter",(function(t){t.item&&r.setItemState(t.item,"active",!0)})),r.on("edge:mouseout",(function(t){if(t.item){if(t.item.hasState("selected"))return;r.setItemState(t.item,"active",!1)}})),r.on("aftercreateedge",(function(e){var a=e.edge.getModel(),o=a.style;r.updateItem(e.edge,{sourceAnchor:t.sourceAnchorIdx,targetAnchor:t.targetAnchorIdx,style:Object(s["a"])(Object(s["a"])({},o),{},{stroke:"#d8d8d8",endArrow:{path:c["a"].Arrow.triangle(5,7,5),d:5,fill:"#d8d8d8"},lineDash:[]})});var n=t.graph.getNodes();t.showItemAnchors(n,!1)})),r.on("edge:click",(function(e){t.selectType="edge";var a=e.item.get("model");t.edgeAttributeForm.label=a.label,t.edgeAttributeForm.reg=a.reg,t.edgeAttributeForm.val=a.val,r.setItemState(e.item,"selected",!0)})),r.on("afteradditem",(function(e){if(e.item&&"edge"===e.item.getType()){r.updateItem(e.item,{sourceAnchor:t.sourceAnchorIdx});var a=t.graph.getNodes();t.showItemAnchors(a,!0)}if("node"===e.item._cfg.type){t.selfClearItemStates(r),r.setItemState(e.item,"selected",!0),t.selectType="node";var o=e.model;t.nodeAttributeForm.nodetype=o.nodetype,t.nodeAttributeForm.label=o.label_form,t.nodeAttributeForm.sql=o.sql,t.nodeAttributeForm.width=o.size[0],t.nodeAttributeForm.height=o.size[1]}})),r.on("afterremoveitem",(function(e){if(t.selectType="canvas",e.item&&e.item.source&&e.item.target){var a=r.findById(e.item.source),o=r.findById(e.item.target),n=e.item,i=n.sourceAnchor,l=n.targetAnchor;if(a&&!isNaN(i)){var s=a.getContainer().find((function(t){return"anchor-point"===t.get("name")&&t.get("anchorPointIdx")===i}));s.set("links",s.get("links")-1)}if(o&&!isNaN(l)){var c=o.getContainer().find((function(t){return"anchor-point"===t.get("name")&&t.get("anchorPointIdx")===l}));c.set("links",c.get("links")-1)}t.selfClearItemStates(r);var d=t.graph.getNodes();t.showItemAnchors(d,!1)}})),r.on("node:mouseenter",(function(t){var e=t.item;r.setItemState(e,"active",!0),r.setItemState(e,"showAnchors",!0)})),r.on("node:mouseleave",(function(t){var e=t.item;r.setItemState(e,"active",!1),r.setItemState(e,"showAnchors",!1)}))},selfClearItemStates:function(t){t=t||this.graph;var e=t.findAllByState("node","selected"),a=t.findAllByState("edge","selected"),r=t.findAllByState("combo","selected");e&&e.map((function(e){t.clearItemStates(e,"selected")})),a&&a.map((function(e){t.clearItemStates(e,"selected")})),r&&r.map((function(e){t.clearItemStates(e,"selected")}))},showItemAnchors:function(t){var e=this,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t.map((function(t){e.graph.setItemState(t,"showAnchors",a),e.graph.setItemState(t,"connect",a)}))},save:function(){var t=this.graph.save(),e=JSON.stringify(t);console.log(e)},out:function(){},fileSuccess:function(t){var e=this,a=new FileReader;a.readAsText(t.raw),a.onload=function(t){e.da={},e.uploadData=[],e.uploadData=JSON.parse(t.target.result),e.graph.changeData(e.uploadData)}},readUploadData:function(){var t=this,e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept",".json"),e.addEventListener("change",(function(){var a=e.files[0],r=new FileReader;r.onload=function(e){console.log(t.graph),t.graph.read(JSON.parse(e.target.result)),t.graph.render()},r.readAsText(a)})),e.click()},toggleMode:function(){var t=this.graph.getCurrentMode();this.graph.setMode("default"===t?"brush":"default"),this.model="default"===t?"brush":"default"},addGroup:function(){var t=this;if("brush"===this.model){var e=this.graph.findAllByState("node","selected");if(!(e.length>0))return!1;var a=this.graph.findAllByState("edge","selected"),r=e.map((function(t){return t.getModel().id}));this.graph.createCombo({id:g(!1,19),label:"新建分组",type:"cRect"},r),this.graph.setMode("default"),e.map((function(e){t.graph.clearItemStates(e,["selected","showAnchors"]),t.graph.updateItem(e,Object(s["a"])(Object(s["a"])({},e.getModel()),{},{style:{shadowColor:"",shadowBlur:""}}))})),a.map((function(e){t.graph.clearItemStates(e,"selected")}))}},unGroup:function(){var t=this,e=this.graph.findAllByState("combo","selected");console.log(e),e.map((function(e){t.graph.uncombo(e.getModel().id)}))},downloadImage:function(){this.graph.downloadImage("流程图_".concat((new Date).getTime(),"_"),"image/jpeg","#f2f2f2")},deleteNode:function(t){var e=this;"canvas"===this.selectType&&t.preventDefault();var a=this.graph.findAllByState("node","selected"),r=this.graph.findAllByState("edge","selected"),o=this.graph.findAllByState("combo","selected");a&&a.map((function(t){e.graph.removeItem(t)})),r&&r.map((function(t){e.graph.removeItem(t)})),o&&o.map((function(t){e.graph.removeItem(t)})),this.selectType="canvas"},clear:function(){this.graph.clear()},toFront:function(){var t=this.graph.findAllByState("node","selected");t.map((function(t){t.toFront()}))},toBack:function(){var t=this.graph.findAllByState("node","selected");t.map((function(t){t.toBack()}))},selectAll:function(){},toggleGridShowStatus:function(){this.canvasAttributeForm.grid?document.getElementsByClassName("g6-grid-container")[0].style.display="block":document.getElementsByClassName("g6-grid-container")[0].style.display="none"},saveNodeAttribute:function(){var t=this.graph.findAllByState("node","selected"),e=t[0].getModel();this.graph.updateItem(e.id,{sql:this.nodeAttributeForm.sql,label:w(this.nodeAttributeForm.label,[parseInt(this.nodeAttributeForm.width),parseInt(this.nodeAttributeForm.height)],12),label_form:this.nodeAttributeForm.label,size:[parseInt(this.nodeAttributeForm.width),parseInt(this.nodeAttributeForm.height)]})},saveEdgeAttribute:function(){var t=this.graph.findAllByState("edge","selected"),e=t[0].getModel();this.graph.updateItem(e.id,{label:this.edgeAttributeForm.label})},saveGroupAttribute:function(){var t=this.graph.findAllByState("combo","selected"),e=t[0].getModel();this.graph.updateItem(e.id,{label:this.groupAttributeForm.label})}}},B=S,I=(a("bf5e"),Object(m["a"])(B,i,l,!1,null,null,null)),z=I.exports,M={name:"App",components:{G6Flow:z}},E=M,N=(a("a7e2"),Object(m["a"])(E,o,n,!1,null,null,null)),V=N.exports,H=a("5c96");a("0fae");r["default"].use(H["Form"]),r["default"].use(H["FormItem"]),r["default"].use(H["Input"]),r["default"].use(H["Checkbox"]),r["default"].prototype.$ELEMENT={size:"small",zIndex:3e3},r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(V)}}).$mount("#app")},eb39:function(t,e,a){var r=a("24fb");e=r(!1),e.push([t.i,"#view{height:calc(100vh - 50px);display:flex}#header{height:49px;background-color:#87ceeb}#container{flex:1;width:0;flex-shrink:0}.g6-grid-container{width:auto!important}#leftTool{width:100px;text-align:center;background-color:#d5dbdd;flex-shrink:0}ul{padding:0}li{text-align:center;list-style:none}.btn{position:absolute;right:6%}.upload{display:inline-block}#topTool{position:absolute;margin-left:100px;width:250px}.iconTool{position:absolute;top:10px;left:120px}.g6-component-contextmenu{padding:0}.g6-component-contextmenu .g6-contextmenu-ul{cursor:pointer;padding:8px 20px}#toolbar{background:#fbfbfb;border-bottom:1px solid #dadce0;padding:4px 14px;margin:0;padding:0;list-style-type:none}#toolbar li{display:inline-block;text-align:center;width:35px;height:24px;cursor:pointer;list-style-type:none;list-style:none;margin-left:0}#toolbar li.disabled{opacity:.4;cursor:not-allowed}#toolbar .g6-component-toolbar{position:relative;float:left;border:none;padding:0}#toolbar .g6-component-toolbar li{display:inline-block}#toolbar i{font-size:18px;padding:4px;margin-right:8px;cursor:pointer}#toolbar i.iconfont{font-size:20px}#right-part{width:250px;background-color:#fbfbfb;flex-shrink:0;border-left:1px solid #dadce0;z-index:9999;display:flex;flex-direction:column;justify-content:flex-start}#right-part #detailpannel{overflow-y:scroll;flex-grow:1}#right-part #detailpannel .pannel .title{height:34px;line-height:34px;text-align:center;box-sizing:border-box;font-weight:700;font-size:13px;border-width:0 0 1px 0;border-style:solid;border-color:#dadce0}#right-part #detailpannel .pannel .main{padding:10px}#right-part #minimap{background-color:#fbfbfb;border-top:1px solid #ccc;width:100%;height:200px}#right-part #minimap .title{height:34px;line-height:34px;text-align:center;box-sizing:border-box;font-weight:700;font-size:13px}",""]),t.exports=e}});